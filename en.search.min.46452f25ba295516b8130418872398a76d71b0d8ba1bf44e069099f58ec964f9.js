'use strict';(function(){const e=document.querySelector('#book-search-input'),t=document.querySelector('#book-search-results');if(!e)return;e.addEventListener('focus',n),e.addEventListener('keyup',s),document.addEventListener('keypress',i);function i(t){if(e===document.activeElement)return;const n=String.fromCharCode(t.charCode);if(!a(n))return;e.focus(),t.preventDefault()}function a(t){const n=e.getAttribute('data-hotkeys')||'';return n.indexOf(t)>=0}function n(){e.removeEventListener('focus',n),e.required=!0,o('/flexsearch.min.js'),o('/en.search-data.min.64f0e8e534c9410182144ca1ce2c6733b5abc55538b4235fda2bc8bd7429d6e7.js',function(){e.required=!1,s()})}function s(){for(;t.firstChild;)t.removeChild(t.firstChild);if(!e.value)return;const n=window.bookSearchIndex.search(e.value,10);n.forEach(function(e){const n=r('<li><a href></a><small></small></li>'),s=n.querySelector('a'),o=n.querySelector('small');s.href=e.href,s.textContent=e.title,o.textContent=e.section,t.appendChild(n)})}function o(t,n){const e=document.createElement('script');e.defer=!0,e.async=!1,e.src=t,e.onload=n,document.head.appendChild(e)}function r(t){const e=document.createElement('div');return e.innerHTML=t,e.firstChild}})()